<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buddy - Brushing Teeth Adventure</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div id="app">
      <div id="avatar-container">
        <canvas id="three-canvas"></canvas>
      </div>
      <div id="dialog-box">
        <p id="dialog-text"></p>
      </div>
      <div id="controls">
        <div id="input-container">
          <input
            type="text"
            id="text-input"
            placeholder="Or type your message here..."
            autocomplete="off"
          />
          <button id="send-button" title="Send message">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
              <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
            </svg>
          </button>
        </div>
        <button id="mic-button" title="Tap to speak">
          <svg
            id="mic-icon"
            viewBox="0 0 24 24"
            width="28"
            height="28"
            fill="currentColor"
          >
            <path
              d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"
            />
            <path
              d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"
            />
          </svg>
          <span id="mic-label">Tap to speak</span>
        </button>
      </div>
      <div id="api-key-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Welcome to Buddy!</h2>
          <p>To start your adventure, please enter your Gemini API Key.</p>
          <p class="small-text">
            You can get one from
            <a href="https://aistudio.google.com/app/apikey" target="_blank"
              >Google AI Studio</a
            >.
          </p>
          <input
            type="password"
            id="api-key-input"
            placeholder="Paste your API Key here"
          />
          <button id="save-api-key">Start Adventure</button>
          <p id="api-key-error" class="error-message hidden">
            Please enter a valid API Key.
          </p>
        </div>
      </div>
      <div id="loading-overlay" class="hidden">
        <div class="spinner"></div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
